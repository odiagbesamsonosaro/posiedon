(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{56:function(e,t,a){e.exports=a(99)},61:function(e,t,a){},62:function(e,t,a){},93:function(e,t){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),i=(a(61),a(7)),s=a(8),u=a(10),o=a(9),m=a(6),d=a(11),h=a(15),p=a(13),b=(a(62),function(e){return r.a.createElement("div",{className:"tp-navigation"},r.a.createElement(h.b,{to:"/",exact:!0,className:"tp-brand"},"Poseidon"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(h.c,{to:"/withdrawal_request",activeClassName:"tp-nav-active"},"withdrawals")),r.a.createElement("li",null,r.a.createElement(h.c,{to:"/game",activeClassName:"tp-nav-active"},"game"))))}),E=new(a(52))("https://topner.herokuapp.com"),w={getgameobject:"GET-GAME",setgameobject:"SET-GAME",turngameonoroff:"TURN-ON-OFF",updategameobject:"UPDATE-GAME-OBJECT",newuserjoined:"NEW-USER",resetuser:"RESETUSER",getwithdrawalrequest:"GET-WITHDRAWAL-REQUESTS",requests:"RECIEVED-REQUEST",clearwithdrawal:"CLEAR-WITHDRAWAL"},g=a(23),v=w.setgameobject,f=w.newuserjoined,j=w.requests,O=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(o.a)(t).call(this))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.updateWithdrawalData,a=e.socket,n=e.setGameObject,r=e.setWithdrawalRequest;a.on(v,function(e){n(e)}),a.on(f,function(e){}),a.on(j,function(e){r(e)}),a.on("CLEARED",function(e){t(e),Object(g.b)("Withdrawal has been cleared",{delay:50})})}},{key:"render",value:function(){return null}}]),t}(n.Component),k=w.clearwithdrawal,G=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(o.a)(t).call(this))).clearWithdrawalRequest=e.clearWithdrawalRequest.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"clearWithdrawalRequest",value:function(e){var t=e.target.id;this.props.socket.emit(k,t)}},{key:"render",value:function(){var e=this,t=this.props.withdrawals,a=t?t.map(function(t){return r.a.createElement("div",{className:"tp-withdraw-request"},r.a.createElement("div",null,r.a.createElement("h2",null,t.user.username),r.a.createElement("h5",null,t.user.bank),r.a.createElement("h5",null,t.user.account_number),r.a.createElement("h5",null,"\u20a6 ",t.amount)),r.a.createElement("div",null,r.a.createElement("button",{className:"tp-dismiss",style:{fontSize:40,color:"red"},onClick:e.clearWithdrawalRequest,id:t._id},"\xd7")))}):"no withdrawals for now";return r.a.createElement("div",{className:"tp-withdrawals"},r.a.createElement("h4",{className:"tp-heading"},"Withdrawals"),a)}}]),t}(n.Component),y=a(24),C=a(55),q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(o.a)(t).call(this))).handleInputChange=e.handleInputChange.bind(Object(m.a)(e)),e.updateGameObject=e.updateGameObject.bind(Object(m.a)(e)),e.state={game:{question:"",options:"",date:"",answer:""}},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleInputChange",value:function(e){var t=this.state.game;this.setState({game:Object(C.a)({},t,Object(y.a)({},e.target.id,e.target.value))})}},{key:"updateGameObject",value:function(e){e.preventDefault();var t=this.state.game,a=this.props.updateGameObject;a(t),e.target.reset()}},{key:"render",value:function(){var e=this.state.game,t=e.question,a=e.options,n=(e.possibleWinners,e.date),c=e.answer;return r.a.createElement("div",{className:"tp-create-game"},r.a.createElement("h4",{style:{padding:10,paddingLeft:0}},"Create a new game"),r.a.createElement("form",{onSubmit:this.updateGameObject},r.a.createElement("div",null,r.a.createElement("textarea",{className:"tp-input-field",placeholder:"question",id:"question",required:!0,value:t,onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",className:"tp-input-field",placeholder:"options",value:a,required:!0,id:"options",onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Answer",value:c,className:"tp-input-field",id:"answer",required:!0,onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("input",{type:"date",id:"date",className:"tp-input-field",placeholder:"Choose date",onChange:this.handleInputChange,value:n})),r.a.createElement("div",null,r.a.createElement("button",{className:"tp-auth-btn"},"Create game"))))}}]),t}(n.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.game,t=e?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"".concat(e.gameison?"tp-on":"tp-off")},e.question.question),r.a.createElement("div",{className:"tp-options"},e.question.option.map(function(e){return r.a.createElement("div",{className:"tp-chip"},e)}),r.a.createElement("label",{className:"tp-container"},"set game on/off",r.a.createElement("input",{type:"checkbox",onChange:this.props.setGameState,checked:e.gameison}),r.a.createElement("span",{className:"tp-checkmark"})))):"Getting game....";return r.a.createElement("div",{className:"game"},r.a.createElement("h4",{className:"tp-heading"},"Game"),r.a.createElement("h4",null,"Current game"),r.a.createElement("div",{className:"tp-on-game"},t),r.a.createElement(q,{updateGameObject:this.props.updateGameObject}))}}]),t}(n.Component),W=(a(98),w.getgameobject),R=w.turngameonoroff,S=w.resetuser,D=w.updategameobject,A=w.getwithdrawalrequest,I=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(o.a)(t).call(this))).state={game:null,totalSignedUp:null,withdrawals:[]},e.setGameObject=e.setGameObject.bind(Object(m.a)(e)),e.setWithdrawalRequest=e.setWithdrawalRequest.bind(Object(m.a)(e)),e.updateWithdrawalData=e.updateWithdrawalData.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"setGameObject",value:function(e){console.log(e),this.setState({game:e})}},{key:"updateGameObject",value:function(e){E.emit(D,e)}},{key:"setGameState",value:function(e){var t=e.target.checked;prompt("Are you sure you want to continue")&&(t?E.emit(R,!0):(E.emit(R,!1),E.emit(S)))}},{key:"setWithdrawalRequest",value:function(e){this.setState({withdrawals:e})}},{key:"componentDidMount",value:function(){E.emit(W),E.emit(A)}},{key:"updateWithdrawalData",value:function(e){var t=this.state.withdrawals.filter(function(t){return console.log(e,t),e._id!==t._id});console.log(t),this.setState({withdrawals:t})}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(b,{setGameState:this.setGameState}),r.a.createElement(g.a,null),r.a.createElement("div",{className:"tp-main-container"},r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/withdrawal_request",exact:!0,render:function(t){return r.a.createElement(G,Object.assign({},t,{withdrawals:e.state.withdrawals,socket:E}))}}),r.a.createElement(p.a,{path:"/game",exact:!0,render:function(t){return r.a.createElement(N,Object.assign({},t,{game:e.state.game,setGameState:e.setGameState,updateGameObject:e.updateGameObject}))}}))),r.a.createElement(O,{socket:E,setWithdrawalRequest:this.setWithdrawalRequest,setGameObject:this.setGameObject,updateWithdrawalData:this.updateWithdrawalData})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[56,1,2]]]);
//# sourceMappingURL=main.443713ae.chunk.js.map